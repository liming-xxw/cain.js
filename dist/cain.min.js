(()=>{var e={107:(e,t,n)=>{"use strict";n.r(t);var c=n(862);window.createSignal=e=>{const t=(0,c.addBucket)();let n=null,r=e;return[(e,s)=>(e&&(null==n&&(0,c.setBucket)(t,e),n=e,s(t)),r),e=>{r=e;const s=(0,c.getBucketFn)(t,n);s&&s.forEach((e=>{e()}))}]}},873:(e,t,n)=>{"use strict";n.r(t),n.d(t,{retrieval:()=>r});var c=n(781);const r=e=>{if(e.nodeType===Node.TEXT_NODE){let t=e.textContent.replace(/^\s|\s$/g,"");""!=t.trim()&&(0,c.cainExpression)(t,e.parentNode)}else{(0,c.makeStrategy)("c-if",e.getAttribute("c-if"),e),(0,c.makeStrategy)("c-for",e.getAttribute("c-for"),e),(0,c.makeStrategy)("c-show",e.getAttribute("c-show"),e),(0,c.makeStrategy)("c-text",e.getAttribute("c-text"),e);const n=e.attributes;for(var t=0;t<n.length;t++){let r=n[t];if(/^c-on:/.test(r.name)){const t=r.nodeName.split(":");(0,c.makeStrategy)("c-on",r.nodeValue,e,t[1])}if(/^c-bind:/.test(r.name)){const t=r.nodeName.split(":");(0,c.makeStrategy)("c-bind",r.nodeValue,e,t[1])}}}for(let t=e.firstChild;t;t=t.nextSibling)r(t)}},781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cainExpression:()=>f,cainStr:()=>i,makeStrategy:()=>u,setCainStr:()=>l});var c=n(811),r=n(959),s=n(873),a=n(862);const o={"c-if":(e,t)=>{const n=(0,a.returnExpInstance)(e);t.style.display=n?"block":"none";const s=(0,c.strSpliceFuc)(e,"(",")");try{var o=null;r.cainFuc[s.fuc](s.fuc,(e=>{o=e})),(0,a.setBucketFn)(o,s.fuc,(()=>{const n=(0,a.returnExpInstance)(e);t.style.display=n?"block":"none"}))}catch(e){}},"c-show":(e,t)=>{const n=(0,a.returnExpInstance)(e);t.style.display=n?"block":"none";const s=(0,c.strSpliceFuc)(e,"(",")");try{var o=null;r.cainFuc[s.fuc](s.fuc,(e=>{o=e})),(0,a.setBucketFn)(o,s.fuc,(()=>{const n=(0,a.returnExpInstance)(e);t.style.display=n?"block":"none"}))}catch(e){}},"c-text":(e,t)=>{const n=(0,a.returnExpInstance)(e);let s=(0,c.strSpliceFuc)(e,"(",")"),o=n;Array.isArray(n)&&(o=`[${n}]`),t.innerText=String(o);try{var u=null;r.cainFuc[s.fuc](s.fuc,(e=>{u=e})),(0,a.setBucketFn)(u,s.fuc,(()=>{const n=(0,a.returnExpInstance)(e);let c=n;Array.isArray(n)&&(c=`[${n}]`),t.innerText=String(c)}))}catch(e){}},"c-html":(e,t)=>{const n=(0,a.returnExpInstance)(e);let s=(0,c.strSpliceFuc)(e,"(",")");t.innerHTML=n;try{var o=null;r.cainFuc[s.fuc](s.fuc,(e=>{o=e})),(0,a.setBucketFn)(o,s.fuc,(()=>{const e=(0,a.returnExpInstance)(s);t.innerHTML=e}))}catch{}},"c-on":(e,t,n)=>{t.addEventListener(n,(t=>{const{fuc:n,val:s}=(0,c.strSpliceFuc)(e,"(",")");s?(0,a.returnExpInstance)(e):r.cainFuc[n](t)}))},"c-bind":(e,t,n)=>{if("style"==n){const s=(0,c.strObject)(e),o=/([a-zA-Z_]\w*)\s*\(\)/,u={};Object.keys(s).forEach((e=>{const t=s[e].match(o);if(t&&t[1]){const n=t[1].trim();u[e]={fuc:n,is:!0}}else u[e]={fuc:void 0,is:!1}}));const i=(0,a.returnExpInstance)(e);Object.keys(i).forEach((e=>{t[n][e]=i[e]})),Object.keys(u).forEach((c=>{let s=u[c];if(s.is){var o=null;r.cainFuc[s.fuc](s.fuc,(e=>{o=e})),(0,a.setBucketFn)(o,s.fuc,(()=>{const c=(0,a.returnExpInstance)(e);Object.keys(c).forEach((e=>{t[n][e]=c[e]}))}))}}))}else if("class"==n){const n=(0,c.strObject)(e),s=(0,a.returnExpInstance)(e),o=/([a-zA-Z_]\w*)\s*\(\)/,u={};Object.keys(n).forEach((e=>{const t=n[e].match(o);if(t&&t[1]){const n=t[1].trim();u[e]={fuc:n,is:!0}}else u[e]={fuc:void 0,is:!1}})),Object.keys(s).forEach((e=>{s[e]?t.classList.add(e):t.classList.remove(e)})),Object.keys(u).forEach((e=>{let n=u[e];if(n.is){var c=null;r.cainFuc[n.fuc](n.fuc,(e=>{c=e})),(0,a.setBucketFn)(c,n.fuc,(()=>{Object.keys(s).forEach((e=>{s[e]?t.classList.add(e):t.classList.remove(e)}))}))}}))}else{const c=(0,a.returnExpInstance)(e);t[n]=c;const o=/([a-zA-Z_]\w*)\s*\(\)/;let u=e.match(o);var s=null;r.cainFuc[u[1]](u[1],(e=>{s=e})),(0,a.setBucketFn)(s,u[1],(()=>{const c=(0,a.returnExpInstance)(e);t[n]=c}))}},"c-for":(e,t)=>{const n=e.split(" in "),o=(0,c.strSpliceFuc)(n[0].trim(),"(",")"),u=""==o.fuc?o.val.split(","):[o.fuc],i=n[1].trim(),l=(0,a.returnExpInstance)(i);t.removeAttribute("c-for");const f=t.parentNode,p=t.cloneNode(!0);t.innerHTML="";let d=[];l.forEach(((e,t)=>{let n=p.cloneNode(!0);const c={};c[u[0]]=()=>e;try{c[u[1]]=()=>t}catch(e){}(0,a.addExpInstance)(c),(0,s.retrieval)(n),(0,a.removeExpInstance)(c),f.appendChild(n),d.push(n)}));let y=(0,c.strSpliceFuc)(i,"(",")");r.cainFuc[y.fuc](y.fuc),(0,a.addResponsive)(y.fuc,(()=>{const e=(0,a.returnExpInstance)(i);let t=[...d];d=[],e.forEach(((e,n)=>{f.removeChild(t[n]);let c=p.cloneNode(!0);const r={};r[u[0]]=t=>e;try{r[u[1]]=()=>n}catch(e){}(0,a.addExpInstance)(r),(0,s.retrieval)(c),(0,a.removeExpInstance)(r),f.appendChild(c),d.push(c)}))}))}},u=(e,t,n,c)=>{t&&o&&(0,o[e])(t,n,c)};var i="";const l=e=>{i=e},f=(e,t)=>{i="";const n=/{{(.*?)}}/g,s=e.replace(n,c.strRegex);if(""!=i){var o=null;r.cainFuc[i](i,(e=>{o=e})),t.innerText=s,(0,a.setBucketFn)(o,i,(()=>{const s=e.replace(n,c.strRegex);r.cainFuc[i]&&(t.innerText=s)}))}}},862:(e,t,n)=>{"use strict";n.r(t),n.d(t,{addBucket:()=>p,addExpInstance:()=>u,addResponsive:()=>l,getBucketFn:()=>y,removeExpInstance:()=>i,returnExpInstance:()=>o,setBucket:()=>d,setBucketFn:()=>h});var c=n(959);let r=null,s=new WeakMap;function a(){for(let e in c.cainFuc)this[e]=c.cainFuc[e]}a.prototype.executeCode=function(e){return new Function(`return (()=>{with (this) {return ${e}}})()`).bind(this)()},a.prototype.setCode=function(e){for(let t in e)this[t]=e[t],c.cainFuc[t]=e[t]},a.prototype.removeCode=function(e){for(let t in e)delete this[t],delete c.cainFuc[t]};const o=e=>(null==r&&(r=new a),r.executeCode(e)),u=e=>{r.setCode(e)},i=e=>{r.removeCode(e)},l=(e,t)=>{console.log(c.cainFuc),console.log(c.bucket),Object.values(c.bucket).forEach((n=>{n.use==e&&n.fn.push(t)}))};let f=0;const p=()=>{const e=new String("cainBucket"+f);let t=new Map;return s.set(e,t),f++,e},d=(e,t)=>{if(!s.has(e))return s.get(e);let n=s.get(e),c=new Set;n.set(t,c)},y=(e,t)=>{if(!s.has(e))return s.get(e);let n=s.get(e);return n.has(t),n.get(t)},h=(e,t,n)=>{if(!s.has(e))return s.get(e);let c=s.get(e);if(!c.has(t))return c.get(t);c.get(t).add(n)}},959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bucket:()=>r,cainFuc:()=>s,createCain:()=>u});var c=n(873);let r={},s={},a=new class{fn={};addFn(e,t){this.fn[e]=t,r[e]={use:e,fn:[]}}addBucket(e,t){}};class o{use(e){e.install(a)}}const u=e=>{if(null==document.querySelector(e.use))return console.error("请先挂载目录 / Please mount the directory first"),!1;const t=document.querySelector(e.use);e.plugins(new o);var n=e.setup(a);s=n,(0,c.retrieval)(t)};window.createCain=u},811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{strObject:()=>a,strRegex:()=>o,strSpliceFuc:()=>s});var c=n(862),r=(n(959),n(781));const s=(e,t,n)=>{const c=[];let r,s=!1;for(let r=0;r<Number(e.length);r++)s?e[r]==n&&(c.push(r),s=!1):e[r]==t&&(c.push(r),s=!0);const a=e.slice(0,c[0]);return 2==c.length&&(r=e.slice(c[0]+1,c[1])),{fuc:a,val:r}},a=e=>{const t=/(\w+)\s*:\s*('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|[^,}]+)/g,n={};let c;for(;null!==(c=t.exec(e));){const e=c[1],t=c[2].trim().replace(/^['"]|['"]$/g,"");n[e]=t}return n},o=(e,t)=>{let n=(0,c.returnExpInstance)(t),a=s(t.trim(),"(",")");return Array.isArray(n)&&(n=`[${n.toString()}]`),(0,r.setCainStr)(a.fuc),JSON.stringify(n)}}},t={};function n(c){var r=t[c];if(void 0!==r)return r.exports;var s=t[c]={exports:{}};return e[c](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(811),n(781),n(862),n(873),n(959),n(107)})();