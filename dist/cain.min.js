(()=>{var e={107:(e,t,c)=>{"use strict";c.r(t);var n=c(862);window.createSignal=e=>{const t=(0,n.addBucket)();let c=null,r=e;return[(e,s)=>(e&&(null==c&&(0,n.setBucket)(t,e),c=e,s(t)),r),e=>{r=e;const s=(0,n.getBucketFn)(t,c);s&&s.forEach((e=>{e()}))}]}},873:(e,t,c)=>{"use strict";c.r(t),c.d(t,{retrieval:()=>r});var n=c(781);const r=e=>{if(e.nodeType===Node.TEXT_NODE){let t=e.textContent.replace(/^\s|\s$/g,"");""!=t.trim()&&(0,n.cainExpression)(t,e.parentNode)}else{(0,n.makeStrategy)("c-if",e.getAttribute("c-if"),e),(0,n.makeStrategy)("c-for",e.getAttribute("c-for"),e),(0,n.makeStrategy)("c-show",e.getAttribute("c-show"),e),(0,n.makeStrategy)("c-text",e.getAttribute("c-text"),e);const c=e.attributes;for(var t=0;t<c.length;t++){let r=c[t];if(/^c-on:/.test(r.name)){const t=r.nodeName.split(":");(0,n.makeStrategy)("c-on",r.nodeValue,e,t[1])}if(/^c-bind:/.test(r.name)){const t=r.nodeName.split(":");(0,n.makeStrategy)("c-bind",r.nodeValue,e,t[1])}}}for(let t=e.firstChild;t;t=t.nextSibling)r(t)}},781:(e,t,c)=>{"use strict";c.r(t),c.d(t,{cainExpression:()=>f,cainStr:()=>o,makeStrategy:()=>i,setCainStr:()=>l});var n=c(811),r=c(959),s=c(873),a=c(862);const u={"c-if":(e,t)=>{const c=(0,a.returnExpInstance)(e);t.style.display=c?"block":"none";const s=(0,n.strSpliceFuc)(e,"(",")");try{var u=null;r.cainFuc[s.fuc](s.fuc,(e=>{u=e})),(0,a.setBucketFn)(u,s.fuc,(()=>{const c=(0,a.returnExpInstance)(e);t.style.display=c?"block":"none"}))}catch(e){}},"c-show":(e,t)=>{const c=(0,a.returnExpInstance)(e);t.style.display=c?"block":"none";const s=(0,n.strSpliceFuc)(e,"(",")");try{var u=null;r.cainFuc[s.fuc](s.fuc,(e=>{u=e})),(0,a.setBucketFn)(u,s.fuc,(()=>{const c=(0,a.returnExpInstance)(e);t.style.display=c?"block":"none"}))}catch(e){}},"c-text":(e,t)=>{const c=(0,a.returnExpInstance)(e);let s=(0,n.strSpliceFuc)(e,"(",")"),u=c;Array.isArray(c)&&(u=`[${c}]`),t.innerText=String(u);try{var i=null;r.cainFuc[s.fuc](s.fuc,(e=>{i=e})),(0,a.setBucketFn)(i,s.fuc,(()=>{const c=(0,a.returnExpInstance)(e);let n=c;Array.isArray(c)&&(n=`[${c}]`),t.innerText=String(n)}))}catch(e){}},"c-html":(e,t)=>{const c=(0,a.returnExpInstance)(e);let s=(0,n.strSpliceFuc)(e,"(",")");t.innerHTML=c;try{var u=null;r.cainFuc[s.fuc](s.fuc,(e=>{u=e})),(0,a.setBucketFn)(u,s.fuc,(()=>{const e=(0,a.returnExpInstance)(s);t.innerHTML=e}))}catch{}},"c-on":(e,t,c)=>{t.addEventListener(c,(t=>{const{fuc:c,val:s}=(0,n.strSpliceFuc)(e,"(",")");s?(0,a.returnExpInstance)(e):r.cainFuc[c](t)}))},"c-bind":(e,t,c)=>{if("style"==c){const s=(0,n.strObject)(e),u=/([a-zA-Z_]\w*)\s*\(\)/,i={};Object.keys(s).forEach((e=>{const t=s[e].match(u);if(t&&t[1]){const c=t[1].trim();i[e]={fuc:c,is:!0}}else i[e]={fuc:void 0,is:!1}}));const o=(0,a.returnExpInstance)(e);Object.keys(o).forEach((e=>{t[c][e]=o[e]})),Object.keys(i).forEach((n=>{let s=i[n];if(s.is){var u=null;r.cainFuc[s.fuc](s.fuc,(e=>{u=e})),(0,a.setBucketFn)(u,s.fuc,(()=>{const n=(0,a.returnExpInstance)(e);Object.keys(n).forEach((e=>{t[c][e]=n[e]}))}))}}))}else if("class"==c){const c=(0,n.strObject)(e),s=(0,a.returnExpInstance)(e),u=/([a-zA-Z_]\w*)\s*\(\)/,i={};Object.keys(c).forEach((e=>{const t=c[e].match(u);if(t&&t[1]){const c=t[1].trim();i[e]={fuc:c,is:!0}}else i[e]={fuc:void 0,is:!1}})),Object.keys(s).forEach((e=>{s[e]?t.classList.add(e):t.classList.remove(e)})),Object.keys(i).forEach((e=>{let c=i[e];if(c.is){var n=null;r.cainFuc[c.fuc](c.fuc,(e=>{n=e})),(0,a.setBucketFn)(n,c.fuc,(()=>{Object.keys(s).forEach((e=>{s[e]?t.classList.add(e):t.classList.remove(e)}))}))}}))}else{const n=(0,a.returnExpInstance)(e);t[c]=n;const u=/([a-zA-Z_]\w*)\s*\(\)/;let i=e.match(u);var s=null;r.cainFuc[i[1]](i[1],(e=>{s=e})),(0,a.setBucketFn)(s,i[1],(()=>{const n=(0,a.returnExpInstance)(e);t[c]=n}))}},"c-for":(e,t)=>{const c=e.split(" in "),u=(0,n.strSpliceFuc)(c[0].trim(),"(",")"),i=""==u.fuc?u.val.split(","):[u.fuc],o=c[1].trim(),l=(0,a.returnExpInstance)(o);t.removeAttribute("c-for");const f=t.parentNode,d=t.cloneNode(!0);t.innerHTML="";let p=[];l.forEach(((e,t)=>{let c=d.cloneNode(!0);const n={};n[i[0]]=()=>e;try{n[i[1]]=()=>t}catch(e){}(0,a.addExpInstance)(n),(0,s.retrieval)(c),(0,a.removeExpInstance)(n),f.appendChild(c),p.push(c)}));let k=(0,n.strSpliceFuc)(o,"(",")");var y=null;r.cainFuc[k.fuc](k.fuc,(e=>{y=e})),(0,a.setBucketFn)(y,e[1],(()=>{const e=(0,a.returnExpInstance)(o);let t=[...p];p=[],e.forEach(((e,c)=>{f.removeChild(t[c]);let n=d.cloneNode(!0);const r={};r[i[0]]=t=>e;try{r[i[1]]=()=>c}catch(e){}(0,a.addExpInstance)(r),(0,s.retrieval)(n),(0,a.removeExpInstance)(r),f.appendChild(n),p.push(n)}))}))}},i=(e,t,c,n)=>{t&&u&&(0,u[e])(t,c,n)};var o="";const l=e=>{o=e},f=(e,t)=>{o="";const c=/{{(.*?)}}/g,s=e.replace(c,n.strRegex);if(""!=o){var u=null;r.cainFuc[o](o,(e=>{u=e})),console.log(r.cainBucket),t.innerText=s,(0,a.setBucketFn)(u,o,(()=>{const s=e.replace(c,n.strRegex);r.cainFuc[o]&&(t.innerText=s)}))}}},862:(e,t,c)=>{"use strict";c.r(t),c.d(t,{addBucket:()=>l,addExpInstance:()=>u,getBucketFn:()=>d,removeExpInstance:()=>i,returnExpInstance:()=>a,setBucket:()=>f,setBucketFn:()=>p});var n=c(959);let r=null;function s(){for(let e in n.cainFuc)this[e]=n.cainFuc[e]}s.prototype.executeCode=function(e){return new Function(`return (()=>{with (this) {return ${e}}})()`).bind(this)()},s.prototype.setCode=function(e){for(let t in e)this[t]=e[t],n.cainFuc[t]=e[t]},s.prototype.removeCode=function(e){for(let t in e)delete this[t],delete n.cainFuc[t]};const a=e=>(null==r&&(r=new s),r.executeCode(e)),u=e=>{r.setCode(e)},i=e=>{r.removeCode(e)};let o=0;const l=()=>{const e=new String("cainBucket"+o);let t=new Map;return n.cainBucket.set(e,t),o++,e},f=(e,t)=>{if(!n.cainBucket.has(e))return n.cainBucket.get(e);let c=n.cainBucket.get(e),r=new Set;c.set(t,r)},d=(e,t)=>{if(!n.cainBucket.has(e))return n.cainBucket.get(e);let c=n.cainBucket.get(e);return c.has(t),c.get(t)},p=(e,t,c)=>{if(!n.cainBucket.has(e))return n.cainBucket.get(e);let r=n.cainBucket.get(e);if(!r.has(t))return r.get(t);r.get(t).add(c)}},959:(e,t,c)=>{"use strict";c.r(t),c.d(t,{cainBucket:()=>s,cainFuc:()=>a,createCain:()=>o});var n=c(873),r=c(862);let s=new WeakMap,a={},u=new class{fn={};addFn(e,t){this.fn[e]=t}addBucket(){return(0,r.addBucket)()}setBucket(e,t){return(0,r.setBucket)(e,t)}getBucketFn(e,t){return(0,r.getBucketFn)(e,t)}};class i{use(e){e.install(u)}}const o=e=>{if(null==document.querySelector(e.use))return console.error("请先挂载目录 / Please mount the directory first"),!1;const t=document.querySelector(e.use);e.plugins(new i);var c=e.setup(u);a=c,(0,n.retrieval)(t)};window.createCain=o},811:(e,t,c)=>{"use strict";c.r(t),c.d(t,{strObject:()=>a,strRegex:()=>u,strSpliceFuc:()=>s});var n=c(862),r=(c(959),c(781));const s=(e,t,c)=>{const n=[];let r,s=!1;for(let r=0;r<Number(e.length);r++)s?e[r]==c&&(n.push(r),s=!1):e[r]==t&&(n.push(r),s=!0);const a=e.slice(0,n[0]);return 2==n.length&&(r=e.slice(n[0]+1,n[1])),{fuc:a,val:r}},a=e=>{const t=/(\w+)\s*:\s*('(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|[^,}]+)/g,c={};let n;for(;null!==(n=t.exec(e));){const e=n[1],t=n[2].trim().replace(/^['"]|['"]$/g,"");c[e]=t}return c},u=(e,t)=>{let c=(0,n.returnExpInstance)(t),a=s(t.trim(),"(",")");return Array.isArray(c)&&(c=`[${c.toString()}]`),(0,r.setCainStr)(a.fuc),JSON.stringify(c)}}},t={};function c(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,c),s.exports}c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(811),c(781),c(862),c(873),c(959),c(107)})();